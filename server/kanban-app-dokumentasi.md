# Kanban App Server

Kanban App is an application to manage your task and work into categories. This app has :

-   RESTful endpoint for asset's CRUD operation
-   JSON formatted response

&nbsp;

## RESTful endpoints

### POST /users/register

> Register a User

_Request Header_

```
{
    "Content-Type": "application/json"
}
```

_Request Body_

```
{
    "email": "<user email>",
    "password": "<user password>",
    "full_name": "<user full name>",
    "OrganizationId": "<Organization ID of user organization>",
}
```

_Response (201 - Created)_

```
{
    "email": <user email>,
	"OrganizationId": "<Organization ID of user organization>",
	"full_name": "<user full name>",
	"profile_pic": "<user profile picture>",
}
```

_Response (400 - Bad Request)_

```
{
    "name": "BadRequest",
    "message": "<Bad Request message>"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### POST /users/login

> Login to application

_Request Header_

```
{
    "Content-Type": "application/json"
}
```

_Request Body_

```
{
    "email": "<user email>",
    "password": "<user password>",
}
```

_Response (201 - Created)_

```
{
    "id": <user ID>,
	"access_token": "<access token generated by server>",
	"full_name": "<user full name>",
	"profile_pic": "<user profile picture>",
	"organization_name": "<user organization name>"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### POST /users/googlesignin

> Google SignIn server controller

_Request Header_

```
{
    "Content-Type": "application/json"
}
```

_Request Body_

```
{
    "token": "<token id from google>"
}
```

_Response (201 - Created)_

```
{
    "id": <user ID>,
	"access_token": "<access token generated by server>",
	"full_name": "<user full name>",
	"profile_pic": "<user profile picture>",
	"organization_name": "<user organization name>"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### GET /organizations

> Get all organizations

_Request Header_

```
not needed
```

_Request Body_

```
not needed
```

_Response (200)_

```
[
    {
        "id": 1,
        "name": "<organization name>",
    },
    {
       "id": 2,
        "name": "<organization name>",
    }
]
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### POST /organizations

> Add an organization

_Request Header_

```
{
    "Content-Type": "application/json"
}
```

_Request Body_

```
{
    "name": "<organization name>"
}
```

_Response (200)_

```
{
    "id": <id generated from database>,
    "name": "<organization name>",
    "createdAt": "2020-03-20T07:15:12.149Z",
    "updatedAt": "2020-03-20T07:15:12.149Z",
}

```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### GET /tasks

> Get all Task within a single organization

_Request Header_

```
{
    "access_token": "<access token>"
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
[
    {
        "id": 1,
		"title": "<task title>",
		"email": "<task email>",
		"CategoryId": "<task category ID>",
		"category_name": "<task category name>",
		"createdAt": 20/10/2020,
    },
    {
        "id": 2,
		"title": "<task title>",
		"email": "<task email>",
		"CategoryId": "<task category ID>",
		"category_name": "<task category name>",
		"createdAt": 20/10/2020,
    }
]
```

_Response (401 - Unauthorized)_

```
{
    "name": "Unauthorized",
    "message": "<Unauthorized message>"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### POST /tasks

> Add a task

_Request Header_

```
{
    "Content-Type": "application/json",
    "access_token": "<access token>"
}
```

_Request Body_

```
{
    "title": "<task title>",
    "CategoryId": <task category ID>
}
```

_Response (201)_

```
{
    "id": 2,
	"title": "<task title>",
	"email": "<task email>",
	"CategoryId": "<task category ID>",
	"createdAt": "2020-03-20T07:15:12.149Z",
    "updatedAt": "2020-03-20T07:15:12.149Z",
}
```

_Response (400 - Bad Request)_

```
{
    "name": "BadRequest",
    "message": "<validation error message>"
}
```

_Response (401 - Unauthorized)_

```

{
    "name": "Unauthorized",
    "message": "<Unauthorized message>"
}

```

_Response (500 - Internal Server Error)_

```
{
"name": "InternalServerError",
"message": "<error messages>"
}

```

---

### PATCH /tasks/:id

> update category of a task by id

_Request Header_

```
{
    "Content-Type": "application/json",
    "access_token": "<access token>"
}
```

_Request Body_

```
{
    "CategoryId": "<new task category ID>",
}
```

_Response (200)_

```
{
    status: "Success"
}
```

_Response (401 - Unauthorized)_

```
{
    "name": "Unauthorized",
    "message": "<Unauthorized message>"
}
```

_Response (404 - Not Found)_

```
{
    "name": "NotFound",
    "message": "Data Not Found"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---

### DELETE /tasks/:id

> Delete task by id

_Request Header_

```
{
    "access_token": "<access token>"
}
```

_Request Body_

```
not needed
```

_Response (200)_

```
{
    status: "Success"
}
```

_Response (401 - Unauthorized)_

```
{
    "name": "Unauthorized",
    "message": "<Unauthorized message>"
}
```

_Response (404 - Not Found)_

```
{
    "name": "NotFound",
    "message": "Data Not Found"
}
```

_Response (500 - Internal Server Error)_

```
{
    "name": "InternalServerError",
    "message": "<error messages>"
}
```

---
